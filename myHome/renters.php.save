<?php
// Database connection
$servername = "localhost";
$username = "root";
$password = "FlavianLeonar2003$";
$dbname = "myhome";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
    }

    // Get the current row index from the query string, default to the first row
    $currentRow = isset($_GET['row']) ? intval($_GET['row']) : 1;

    // Fetch the total number of rows in the landlords table
    $totalRowsQuery = "SELECT COUNT(*) as count FROM landlords";
    $totalRowsResult = $conn->query($totalRowsQuery);
    $totalRows = $totalRowsResult->fetch_assoc()['count'];

    // Ensure the current row index is within valid range
    if ($currentRow < 1) {
        $currentRow = 1;
        } elseif ($currentRow > $totalRows) {
            $currentRow = $totalRows;
            }

            // Fetch the landlord data for the current row
            $sql = "SELECT landlord_id, landlord_name, user_id, apartment_name, apartment_amount, comments, property_video, property_image 
                    FROM landlords LIMIT 1 OFFSET " . ($currentRow - 1);
                    $result = $conn->query($sql);

                    // Initialize variables to hold landlord data
                    $landlordName = $apartmentName = $comments = $propertyVideo = $apartmentAmount = $propertyImage = '';

                    if ($result->num_rows > 0) {
                        // Fetch the current landlord's data
                            $row = $result->fetch_assoc();
                                $landlordName = htmlspecialchars($row['landlord_name']);
                                    $apartmentName = htmlspecialchars($row['apartment_name']);
                                        $comments = htmlspecialchars($row['comments']);
                                            $propertyVideo = htmlspecialchars($row['property_video']);
                                                $apartmentAmount = htmlspecialchars($row['apartment_amount']);
                                                    $propertyImage = htmlspecialchars($row['property_image']);
                                                    }
                                                    ?>
                                                    <!DOCTYPE html>
                                                    <html lang="en">
                                                    <head>
                                                        <meta charset="UTF-8">
                                                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                                                <title>MyHome - Renters</title>
                                                                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css">
                                                                        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
                                                                            <style>
                                                                                    /* Background Animation */
                                                                                            @keyframes backgroundAnimation {
                                                                                                        0% { background-position: 0% 50%; }
                                                                                                                    50% { background-position: 100% 50%; }
                                                                                                                                100% { background-position: 0% 50%; }
                                                                                                                                        }

                                                                                                                                                body {
                                                                                                                                                            background: linear-gradient(-45deg, #42a5f5, #ab47bc, #ff7043, #66bb6a);
                                                                                                                                                                        background-size: 400% 400%;
                                                                                                                                                                                    animation: backgroundAnimation 15s ease infinite;
                                                                                                                                                                                                min-height: 100vh;
                                                                                                                                                                                                            padding: 20px 0;
                                                                                                                                                                                                                    }

                                                                                                                                                                                                                            /* Header Styles */
                                                                                                                                                                                                                                    .header {
                                                                                                                                                                                                                                                background: rgba(255, 255, 255, 0.9);
                                                                                                                                                                                                                                                            padding: 15px 0;
                                                                                                                                                                                                                                                                        margin-bottom: 30px;
                                                                                                                                                                                                                                                                                    border-radius: 15px;
                                                                                                                                                                                                                                                                                                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                .header-btn {
                                                                                                                                                                                                                                                                                                                            background: linear-gradient(45deg, #42a5f5, #ab47bc);
                                                                                                                                                                                                                                                                                                                                        border: none;
                                                                                                                                                                                                                                                                                                                                                    color: white;
                                                                                                                                                                                                                                                                                                                                                                padding: 8px 20px;
                                                                                                                                                                                                                                                                                                                                                                            border-radius: 20px;
                                                                                                                                                                                                                                                                                                                                                                                        font-weight: bold;
                                                                                                                                                                                                                                                                                                                                                                                                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                                                                                                                                                                                                                                                                                                                                                                                                                text-decoration: none;
                                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0 10px;
                                                                                                                                                                                                                                                                                                                                                                                                                                        display: inline-block;
                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                        .header-btn:hover {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    transform: translateY(-2px);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            color: white;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        text-decoration: none;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        .header-btn.logout {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    background: linear-gradient(45deg, #ff7043, #ff5252);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /* Container Animation */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .animated-container {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        background: rgba(255, 255, 255, 0.9);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    border-radius: 15px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                padding: 30px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        transition: transform 0.3s ease, box-shadow 0.3s ease;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        .animated-container:hover {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    transform: translateY(-5px);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /* Title Animation */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        .animated-title {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    font-size: 2.5rem;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                background: linear-gradient(45deg, #42a5f5, #ab47bc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            -webkit-background-clip: text;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        background-clip: text;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    color: transparent;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                animation: titleGradient 5s ease infinite;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @keyframes titleGradient {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0% { background-position: 0% 50%; }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        50% { background-position: 100% 50%; }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    100% { background-position: 0% 50%; }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /* Price Animation */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .price-animation {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        font-size: 1.8rem;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    font-weight: bold;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            animation: fadeInUp 1s forwards;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        color: #ff6b6b;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes fadeInUp {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    from {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    transform: translateY(20px);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            to {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateY(0);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /* Media Container Styles */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                .media-container {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        gap: 30px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    flex-wrap: wrap;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                margin: 30px 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                .media-box {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            flex: 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        min-width: 300px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    height: 300px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                overflow: hidden;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
